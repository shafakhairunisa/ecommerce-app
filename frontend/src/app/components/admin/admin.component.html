<div class="admin-container">
    <!-- Sidebar Navigation -->
    <div class="admin-sidebar">
        <div class="admin-logo">
            <h1>ADMIN</h1>
        </div>
        <nav class="admin-nav">
            <a routerLink="/admin" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </span>
                <span class="nav-text">Dashboard</span>
            </a>
            <a routerLink="/admin/users" routerLinkActive="active" class="nav-item">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </span>
                <span class="nav-text">Users</span>
            </a>
            <a routerLink="/admin/products" routerLinkActive="active" class="nav-item">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <path d="M16 10a4 4 0 0 1-8 0"></path>
                    </svg>
                </span>
                <span class="nav-text">Products</span>
            </a>
            <a routerLink="/admin/orders" routerLinkActive="active" class="nav-item">
                <span class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                </span>
                <span class="nav-text">Orders</span>
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="admin-content">
        <header class="admin-header">
            <div class="header-title">
                <h2>Administration Panel</h2>
            </div>
            <div class="header-actions">
                <div class="admin-search">
                    <input type="text" placeholder="Search...">
                    <button class="search-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </button>
                </div>
                <div class="admin-profile">
                    <span class="profile-name">Admin</span>
                    <div class="profile-avatar">A</div>
                </div>
            </div>
        </header>

        <main class="admin-main">
            <!-- Dashboard Overview (only show on main admin page) -->
            <div *ngIf="router.url === '/admin'" class="dashboard-overview">
                <!-- Main Metrics Summary -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon user-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <h3 class="metric-value">{{ dashboardData.userCount || '0' }}</h3>
                            <p class="metric-label">Total Users</p>
                        </div>
                        <div class="metric-trend" [class.positive]="dashboardData.userGrowth > 0"
                            [class.negative]="dashboardData.userGrowth < 0">
                            <svg *ngIf="dashboardData.userGrowth > 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            <svg *ngIf="dashboardData.userGrowth < 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                            <span>{{ dashboardData.userGrowth || '0' }}%</span>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon product-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                <line x1="3" y1="6" x2="21" y2="6"></line>
                                <path d="M16 10a4 4 0 0 1-8 0"></path>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <h3 class="metric-value">{{ dashboardData.productCount || '0' }}</h3>
                            <p class="metric-label">Total Products</p>
                        </div>
                        <div class="metric-trend" [class.positive]="dashboardData.productGrowth > 0"
                            [class.negative]="dashboardData.productGrowth < 0">
                            <svg *ngIf="dashboardData.productGrowth > 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            <svg *ngIf="dashboardData.productGrowth < 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                            <span>{{ dashboardData.productGrowth || '0' }}%</span>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon order-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="9" cy="21" r="1"></circle>
                                <circle cx="20" cy="21" r="1"></circle>
                                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <h3 class="metric-value">{{ dashboardData.orderCount || '0' }}</h3>
                            <p class="metric-label">Total Orders</p>
                        </div>
                        <div class="metric-trend" [class.positive]="dashboardData.orderGrowth > 0"
                            [class.negative]="dashboardData.orderGrowth < 0">
                            <svg *ngIf="dashboardData.orderGrowth > 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            <svg *ngIf="dashboardData.orderGrowth < 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                            <span>{{ dashboardData.orderGrowth || '0' }}%</span>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon revenue-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <h3 class="metric-value">{{ dashboardData.totalRevenue | currency }}</h3>
                            <p class="metric-label">Total Revenue</p>
                        </div>
                        <div class="metric-trend" [class.positive]="dashboardData.revenueGrowth > 0"
                            [class.negative]="dashboardData.revenueGrowth < 0">
                            <svg *ngIf="dashboardData.revenueGrowth > 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            <svg *ngIf="dashboardData.revenueGrowth < 0" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                            <span>{{ dashboardData.revenueGrowth || '0' }}%</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions and Sales Summary -->
                <div class="dashboard-grid">
                    <!-- Low Stock Alert -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Low Stock Alert</h3>
                            <a routerLink="/admin/products" class="view-all">View All</a>
                        </div>
                        <div class="card-content">
                            <div *ngIf="dashboardData.lowStockProducts?.length" class="alert-list">
                                <div *ngFor="let product of dashboardData.lowStockProducts" class="alert-item">
                                    <div class="alert-content">
                                        <img [src]="product.imageUrl" [alt]="product.name" class="product-img">
                                        <div class="alert-details">
                                            <h4 class="alert-title">{{ product.name }}</h4>
                                            <p class="alert-subtitle">Only {{ product.stock }} items left</p>
                                        </div>
                                    </div>
                                    <button class="restock-btn">Restock</button>
                                </div>
                            </div>
                            <div *ngIf="!dashboardData.lowStockProducts?.length" class="empty-state">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                                </svg>
                                <p>All products are well stocked</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Orders -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Recent Orders</h3>
                            <a routerLink="/admin/orders" class="view-all">View All</a>
                        </div>
                        <div class="card-content">
                            <div *ngIf="dashboardData.recentOrders?.length" class="orders-list">
                                <div *ngFor="let order of dashboardData.recentOrders" class="order-item">
                                    <div class="order-header">
                                        <div class="order-id">#{{ order.id }}</div>
                                        <div class="order-status" [ngClass]="'status-' + order.status.toLowerCase()">{{
                                            order.status }}</div>
                                    </div>
                                    <div class="order-details">
                                        <div class="order-customer">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                                <circle cx="12" cy="7" r="4"></circle>
                                            </svg>
                                            <span>User ID: {{ order.userId }}</span>
                                        </div>
                                        <div class="order-date">{{ order.createdAt | date:'short' }}</div>
                                        <div class="order-amount">{{ order.total | currency }}</div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="!dashboardData.recentOrders?.length" class="empty-state">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="9" cy="21" r="1"></circle>
                                    <circle cx="20" cy="21" r="1"></circle>
                                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                </svg>
                                <p>No recent orders</p>
                            </div>
                        </div>
                    </div>

                    <!-- Sales by Category -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Sales by Category</h3>
                        </div>
                        <div class="card-content">
                            <div *ngIf="dashboardData.salesByCategory?.length" class="category-chart">
                                <div *ngFor="let category of dashboardData.salesByCategory" class="category-bar">
                                    <div class="category-name">{{ category.name }}</div>
                                    <div class="bar-container">
                                        <div class="bar" [style.width.%]="category.percentage">
                                            <span class="bar-value">{{ category.sales | currency }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="!dashboardData.salesByCategory?.length" class="empty-state">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <line x1="18" y1="20" x2="18" y2="10"></line>
                                    <line x1="12" y1="20" x2="12" y2="4"></line>
                                    <line x1="6" y1="20" x2="6" y2="14"></line>
                                    <line x1="3" y1="20" x2="21" y2="20"></line>
                                </svg>
                                <p>No sales data available</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Recent Activity</h3>
                        </div>
                        <div class="card-content">
                            <div *ngIf="dashboardData.recentActivity?.length" class="activity-list">
                                <div *ngFor="let activity of dashboardData.recentActivity" class="activity-item">
                                    <div [ngClass]="'activity-icon ' + activity.type + '-activity'">
                                        <svg *ngIf="activity.type === 'order'" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <circle cx="9" cy="21" r="1"></circle>
                                            <circle cx="20" cy="21" r="1"></circle>
                                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6">
                                            </path>
                                        </svg>
                                        <svg *ngIf="activity.type === 'user'" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="12" cy="7" r="4"></circle>
                                        </svg>
                                        <svg *ngIf="activity.type === 'product'" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                            <line x1="3" y1="6" x2="21" y2="6"></line>
                                            <path d="M16 10a4 4 0 0 1-8 0"></path>
                                        </svg>
                                    </div>
                                    <div class="activity-content">
                                        <p class="activity-text">{{ activity.description }}</p>
                                        <span class="activity-time">{{ activity.time | date:'short' }}</span>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="!dashboardData.recentActivity?.length" class="empty-state">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="8" x2="12" y2="12"></line>
                                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                </svg>
                                <p>No recent activity</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Router outlet for sub-pages -->
            <router-outlet></router-outlet>
        </main>
    </div>
</div>